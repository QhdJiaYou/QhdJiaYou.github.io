<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <title>
    Dart函数 |
    
    Hexo
  </title>
  
    <link rel="shortcut icon" href="/favicon.ico">
    
  
<link rel="stylesheet" href="/css/style.css">

  
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <main class="content">
    <section class="outer">
  <article id="post-Dart函数" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h1 class="article-title" itemprop="name">
  Dart函数
</h1>



    </header>
    

    
    <div class="article-meta">
      <a href="/2021/12/07/Dart%E5%87%BD%E6%95%B0/" class="article-date">
  <time datetime="2021-12-07T09:53:43.000Z" itemprop="datePublished">2021-12-07</time>
</a>
      
    </div>
    

    
    
<div class="tocbot"></div>

    

    <div class="article-entry" itemprop="articleBody">
      
      
      
      <h2 id="普通函数"><a href="#普通函数" class="headerlink" title="普通函数"></a>普通函数</h2><p>如果一个函数没有显示声明返回值，Dart 会自动推导它的返回值类型</p>
<p>如果一个函数没有显示的 return，那么它默认会返回 null</p>
<p>如果一个函数只有一句表达式，可以使用简写：</p>
<h3 id="函数简写"><a href="#函数简写" class="headerlink" title="函数简写"></a>函数简写</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isNoble(<span class="built_in">int</span> atomicNumber) =&gt; atomicNumber != <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="可选位置参数pa-positional-arguments"><a href="#可选位置参数pa-positional-arguments" class="headerlink" title="可选位置参数pa (positional arguments)"></a>可选位置参数pa (positional arguments)</h3><p>语法形式：放在数组中的</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> say(<span class="built_in">String</span> from, <span class="built_in">String</span> msg, [<span class="built_in">String</span> device = <span class="string">&#x27;carrier pigeon&#x27;</span>, <span class="built_in">String</span> mood = <span class="string">&#x27;&#x27;</span>]) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用时，严格按照位置传参数，写在数组中的参数是可选的，以下情况都是对的</span></span><br><span class="line">say(<span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;device&#x27;</span>, <span class="string">&#x27;mood&#x27;</span>);</span><br><span class="line">say(<span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;device&#x27;</span>);</span><br><span class="line">say(<span class="string">&#x27;from&#x27;</span>, <span class="string">&#x27;msg&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="可选命名参数na-named-arguments"><a href="#可选命名参数na-named-arguments" class="headerlink" title="可选命名参数na (named arguments)"></a>可选命名参数na (named arguments)</h3><p>语法形式：放在对象中的</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> enableFlags(&#123;<span class="built_in">bool</span> bold = <span class="keyword">false</span>, <span class="built_in">bool</span> hidden = <span class="keyword">false</span>, <span class="meta">@required</span> <span class="built_in">String</span> content&#125;) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用时，使用具体名称，其中@required是必填参数</span></span><br><span class="line">enableFlags(bold: <span class="keyword">true</span>, hidden: <span class="keyword">false</span>, content: <span class="string">&#x27;haha&#x27;</span>);</span><br><span class="line">enableFlags(bold: <span class="keyword">true</span>, content: <span class="string">&#x27;haha&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><h3 id="默认构造函数"><a href="#默认构造函数" class="headerlink" title="默认构造函数"></a>默认构造函数</h3><p>如果你定义了一个类，而没有定义构造函数，那么它将有一个默认的构造函数，这个构造函数 没有参数</p>
<p>如果这个类有父类，那么默认构造函数，还会调用父类的无参数构造函数。</p>
<h3 id="普通构造函数"><a href="#普通构造函数" class="headerlink" title="普通构造函数"></a>普通构造函数</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> y = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// 变量多的时候麻烦</span></span><br><span class="line">  Point(<span class="built_in">double</span> x, <span class="built_in">double</span> y) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x;</span><br><span class="line">    <span class="keyword">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 语法糖</span></span><br><span class="line">   Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="命名构造函数"><a href="#命名构造函数" class="headerlink" title="命名构造函数"></a>命名构造函数</h3><p>命名构造函数不可继承，如果子类想要有和父类一样的命名构造函数，那就写个同名的，没有关系</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> x;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> y;</span><br><span class="line">  Point.origin() &#123;</span><br><span class="line">    x = <span class="number">0</span>;</span><br><span class="line">    y = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="构造函数调用父类构造函数的顺序"><a href="#构造函数调用父类构造函数的顺序" class="headerlink" title="构造函数调用父类构造函数的顺序"></a>构造函数调用父类构造函数的顺序</h3><p>1、 子类构造函数无显示调用时,默认调用父类无参构造函数</p>
<p>2、 子类显示调用父类构造函数,应该在初始化列表中完成</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  Person p = Student.fromJson(); <span class="comment">// 用Person声明只能访问Person类中的成员变量</span></span><br><span class="line">  <span class="built_in">print</span>(p.runtimeType); <span class="comment">// Student</span></span><br><span class="line">  <span class="built_in">print</span>(p.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  Person.fromJson()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;person&#x27;</span>);</span><br><span class="line">    name = <span class="string">&#x27;hehe&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  Student.fromJson(): <span class="keyword">super</span>.fromJson() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;student&#x27;</span>);</span><br><span class="line">    name = <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出内容</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">person</span></span><br><span class="line"><span class="comment">student</span></span><br><span class="line"><span class="comment">Student</span></span><br><span class="line"><span class="comment">haha</span></span><br><span class="line"><span class="comment">/</span></span><br></pre></td></tr></table></figure>

<h3 id="初始化列表"><a href="#初始化列表" class="headerlink" title="初始化列表"></a>初始化列表</h3><p>初始化列表就是构造函数名的冒号后面，大括号前面的部分</p>
<p>初始化列表的执行顺序，在整个构造函数的最前面，它除了可以调用父类的构造函数，还可以在构造函数方法体之前，做一些初始化一些final成员变量的操作。</p>
<p>(初始化成员变量顺序: 初始化列表、父类构造函数、子类构造函数)</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  Student p = Student.fromJson(<span class="string">&#x27;girl&#x27;</span>, <span class="number">16</span>);</span><br><span class="line">  <span class="built_in">print</span>(p.runtimeType);</span><br><span class="line">  <span class="built_in">print</span>(p.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  Person.fromJson()&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;person&#x27;</span>);</span><br><span class="line">    name = <span class="string">&#x27;hehe&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在构造函数方法体中，不能给final修饰的成员变量赋值，因为在执行方法体的时候，final修饰的成员变量已经不能变了。这个地方很多人犯错。</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> sex;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> age;</span><br><span class="line">  Student.fromJson(<span class="built_in">String</span> sex, <span class="built_in">int</span> age): sex = sex, age = age, <span class="keyword">super</span>.fromJson() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;student&#x27;</span>);</span><br><span class="line">    name = <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外初始化final成员变量的写法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> sex;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> age;</span><br><span class="line">  Student(<span class="keyword">this</span>.sex, <span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下面这种写法,无法避免sex等成员变量值为null</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> sex;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> age;</span><br><span class="line">  Student(&#123;<span class="keyword">this</span>.sex, <span class="keyword">this</span>.age&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以在声明的时候写兜底值，如果没有兜底，使用的时候需要做空判断</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> sex = <span class="string">&#x27;girl&#x27;</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> age = <span class="number">15</span>;</span><br><span class="line">  Student(&#123;<span class="keyword">this</span>.sex, <span class="keyword">this</span>.age&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 业务代码中常见下面的写法,记得判空</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DynamicHeaderBg</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  DynamicHeaderBg(&#123;</span><br><span class="line">    <span class="meta">@required</span> context,</span><br><span class="line">    <span class="keyword">this</span>.contentList, <span class="comment">// 内容区域</span></span><br><span class="line">    <span class="keyword">this</span>.title, <span class="comment">// 标题文案</span></span><br><span class="line">    <span class="keyword">this</span>.actionList, <span class="comment">// 右侧跳转</span></span><br><span class="line">    <span class="keyword">this</span>.pageBgColor, <span class="comment">// 背景颜色</span></span><br><span class="line">    <span class="keyword">this</span>.bottomWidget, <span class="comment">//底部固定</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">final</span> Widget bottomWidget;</span><br><span class="line">  <span class="keyword">final</span> Widget contentList;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> title;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; actionList;</span><br><span class="line">  <span class="keyword">final</span> Color pageBgColor;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _DynamicHeaderBgState createState() =&gt; _DynamicHeaderBgState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构造函数传递"><a href="#构造函数传递" class="headerlink" title="构造函数传递"></a>构造函数传递</h3><p>构造函数中相同逻辑,分别在各个构造函数中实现有些冗余,所以构造函数可以传递</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> x, y;</span><br><span class="line">  Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">  Point.alongXAxis(<span class="built_in">double</span> x) : <span class="keyword">this</span>(x, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常量构造函数"><a href="#常量构造函数" class="headerlink" title="常量构造函数"></a>常量构造函数</h3><p>如果你的类，创建的对象永远不会改变，你可以通过常量构造函数在编译期就创建这个常量实例</p>
<p>实际应用中, 如果我们的map值是某种json格式的对象时, 不同的key对应不同的的常量对象, 就可以这么写</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImmutablePoint</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> ImmutablePoint origin = ImmutablePoint(<span class="number">0</span>, <span class="number">0</span>); <span class="comment">// 可以写在外面</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">num</span> x, y;</span><br><span class="line">  <span class="keyword">const</span> ImmutablePoint(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, ImmutablePoint&gt; enumXX = &#123;</span><br><span class="line">    <span class="string">&#x27;big&#x27;</span>:  <span class="keyword">const</span> ImmutablePoint(<span class="number">1</span>, <span class="number">0</span>),</span><br><span class="line">    <span class="string">&#x27;small&#x27;</span>: <span class="keyword">const</span> ImmutablePoint(<span class="number">2</span>, <span class="number">0</span>),</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">print</span>(enumXX[<span class="string">&#x27;big&#x27;</span>]?.x);</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">EnumXX</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> ImmutablePoint big = ImmutablePoint(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> ImmutablePoint small = ImmutablePoint(<span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> 	<span class="built_in">print</span>(EnumXX.big?.x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="工厂构造函数"><a href="#工厂构造函数" class="headerlink" title="工厂构造函数"></a>工厂构造函数</h3><p>有时候可能有一种需求，并不需要每次都创建新的类实例，而是每一种情况，只需要一个实例</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, Logger&gt; _cache =</span><br><span class="line">      &lt;<span class="built_in">String</span>, Logger&gt;&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">factory</span> Logger(<span class="built_in">String</span> name) &#123; <span class="comment">// 工厂构造函数里面无法访问this</span></span><br><span class="line">    <span class="keyword">if</span> (_cache.containsKey(name)) &#123;</span><br><span class="line">      <span class="keyword">return</span> _cache[name];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">final</span> logger = Logger._internal(name);</span><br><span class="line">      _cache[name] = logger;</span><br><span class="line">      <span class="keyword">return</span> logger;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Logger._internal(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">    <span class="keyword">var</span> logger = Logger(<span class="string">&#x27;UI&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的例子:</p>
<p>类中有一个静态缓存_cache保存着一些Logger类实例，创建实例时，给工厂构造函数传递的name，如果在缓存中已经存在，就用缓存中现成的实例，如果没有，就新建一个实例，并且也放到缓存中。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2021/12/07/Dart%E5%87%BD%E6%95%B0/" data-id="clpuo0yv10000otmud51h0lo6" class="article-share-link">
        Share
      </a>
      
    </footer>

  </div>

  
  
<nav class="article-nav">
  
  <a href="/2022/03/28/%E8%87%AA%E5%AE%9A%E4%B9%89plugin&loader/" class="article-nav-link">
    <strong class="article-nav-caption">Newer</strong>
    <div class="article-nav-title">
      
      webpack自定义plugin&amp;loader
      
    </div>
  </a>
  
  
  <a href="/2021/11/26/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/" class="article-nav-link">
    <strong class="article-nav-caption">Older</strong>
    <div class="article-nav-title">Http缓存</div>
  </a>
  
</nav>

  

  
  
  
  

</article>
</section>
    <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
  <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
  <li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>Hexo &copy; 2023</li>
      
        <li>quhandong</li>
      
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <!-- <li>theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li> -->
    </ul>
  </div>
</footer>
  </main>
  <aside class="sidebar">
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/hexo.svg" alt="Hexo"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.douyin.com/user/MS4wLjABAAAA4EevfdHrS1s-urfPJWWJEs-_c_qLu19jtr-eYdpBNBk?enter_from=main_page&enter_method=top_bar">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2022/07/01/README/">About</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/copybtn.js"></script>





<script src="/js/tocbot.min.js"></script>

<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
  });
</script>



<script src="/js/ocean.js"></script>

</body>

</html>